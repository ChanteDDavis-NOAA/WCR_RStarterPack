---
title: "About our community"
---

## Where are we?

```{r, echo=FALSE}
members <- readxl::read_excel("members.xlsx")
ind.admin <- which(members$Status == "admin")

library(foreach, quietly = TRUE)
asHTMLtext <- function(df) {
  paste.br <- function(lhs, rhs) paste(lhs, rhs, sep = "<br>")
  foreach(ic = seq_along(df), .combine = "paste.br") %do% {
    paste(names(df)[ic], df[[ic]], sep = ": ")
  }
}
members_infos <- asHTMLtext(
  subset(members, select = -c(Longitude, Latitude, Status)))

suppressWarnings(library(leaflet))

icon.meetup <- makeAwesomeIcon("android-locate", library = "ion", 
                               markerColor = "red")
icon.admin <- makeAwesomeIcon("person", library = "ion", 
                              markerColor = "darkblue")
icon.member <- makeAwesomeIcon("person", library = "ion")


leaflet(width = "100%") %>% 
  setView(lng = 5.767249, lat = 45.190590, zoom = 12) %>% 
  addTiles() %>% 
  addMeasure(position = "topright", primaryLengthUnit = "kilometers") %>%
  addAwesomeMarkers(lng = 5.767249, lat = 45.190590, popup = "Meeting location",
                    icon = icon.meetup) %>%
  addAwesomeMarkers(lng = members$Longitude[ind.admin], 
                    lat = members$Latitude[ind.admin], 
                    popup = members_infos[ind.admin],
                    icon = icon.admin) %>%
  addAwesomeMarkers(lng = members$Longitude[-ind.admin], 
                    lat = members$Latitude[-ind.admin], 
                    popup = members_infos[-ind.admin],
                    icon = icon.member)
```
<br>

### Where are you?

Use the topright button, then click any location. It will give you the latitude and the logitude of the clicked point.