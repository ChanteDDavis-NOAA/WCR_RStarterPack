---
title: "About our community"
---

## Where are we?

```{r, include=FALSE}
library(dplyr)
library(leaflet)
```

```{r, include=FALSE}
members <- googlesheets::gs_read(
  googlesheets::gs_key(
    "1WyfmLfoAQUP2iRogqcOfYA9Hum7DT0BcVyTtei_6Xjw", 
    lookup = TRUE, visibility = "private"
  )
) %>% 
  tidyr::unite_(col = "Name", from = c("First name", "Last name"),
                sep = " ", remove = TRUE) %>%
  mutate(Name = if_else(is.na(Website), Name, 
                        paste0("<a href='", Website, "' target='_blank'>", Name, "</a>")))


members2 <- subset(members, select = -c(Longitude, Latitude, Website))
members_infos <- with(members2, {
  paste0(Name, "<br>",
         if_else(is.na(Institution), "", paste0("at ", Institution, "<br>")),
         "knows ", Keywords)
})

icon.meetup <- makeAwesomeIcon("android-locate", library = "ion", 
                               markerColor = "red", 
                               extraClasses = "iconWidth: 1000")
icon.member <- makeAwesomeIcon("person", library = "ion")
```

```{r, echo=FALSE}
suppressWarnings(
  leaflet(width = "100%") %>% 
    setView(lng = 5.767249, lat = 45.190590, zoom = 12) %>% 
    addTiles(options = providerTileOptions(minZoom = 2, maxZoom = 20)) %>%
    addMeasure(position = "topright", primaryLengthUnit = "kilometers") %>%
    addAwesomeMarkers(lng = 5.767249, lat = 45.190590, popup = "Meeting location",
                      icon = icon.meetup) %>%
    addAwesomeMarkers(lng = members$Longitude, 
                    lat = members$Latitude, 
                    popup = members_infos,
                    icon = icon.member)
)
```

```{r, echo=FALSE}
DT::datatable(members2,# class = 'cell-border stripe',
	rownames = FALSE, escape = FALSE)
```

<br>

### Where are you?

Use the topright button, then click any location. It will give you the latitude and the logitude of the clicked point.

### How to be added?

Please fill the [google doc](https://docs.google.com/spreadsheets/d/1qdG7PPlRCAU8L6Hhq1D2zT0q9LWDUzBfq7mIzz_6Dm8/edit?usp=sharing) (**follow the guidelines!!**) and wait for an admin to upload your data to the actual list of members.