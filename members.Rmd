---
title: "About our community"
---

## Where are we?

```{r, include=FALSE}
members <- googlesheets::gs_read(
  googlesheets::gs_key(
    "1WyfmLfoAQUP2iRogqcOfYA9Hum7DT0BcVyTtei_6Xjw", 
    lookup = TRUE, visibility = "private"
  )
)

library(foreach)
asHTMLtext <- function(df) {
  paste.br <- function(lhs, rhs) paste(lhs, rhs, sep = "<br>")
  foreach(ic = seq_along(df), .combine = "paste.br") %do% {
    paste(names(df)[ic], df[[ic]], sep = ": ")
  }
}
members2 <- subset(members, select = -c(Longitude, Latitude))
members_infos <- asHTMLtext(members2)

library(leaflet)

icon.meetup <- makeAwesomeIcon("android-locate", library = "ion", 
                               markerColor = "red")
icon.member <- makeAwesomeIcon("person", library = "ion")
```

```{r, echo=FALSE}
leaflet(width = "100%") %>% 
  setView(lng = 5.767249, lat = 45.190590, zoom = 12) %>% 
  addTiles() %>% 
  addMeasure(position = "topright", primaryLengthUnit = "kilometers") %>%
  addAwesomeMarkers(lng = 5.767249, lat = 45.190590, popup = "Meeting location",
                    icon = icon.meetup) %>%
  addAwesomeMarkers(lng = members$Longitude, 
                    lat = members$Latitude, 
                    popup = members_infos,
                    icon = icon.member)
```

```{r, echo=FALSE}
DT::datatable(members2)
```

<br>

### Where are you?

Use the topright button, then click any location. It will give you the latitude and the logitude of the clicked point.